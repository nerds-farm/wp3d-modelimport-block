(()=>{"use strict";var e,t={415:()=>{const e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,n=window.wp.components,o=window.wp.blockEditor,r=window.wp.data,s=window.wp.compose,i=function(e){return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.Inserter,{className:"wp3d-inserter-appender",rootClientId:e.rootClientId,renderToggle:l=>{let{onToggle:o,disabled:r}=l;return(0,t.createElement)(n.IconButton,{className:"wp3d-button-appender",onClick:t=>{o(t),e.onAppend&&e.onAppend()},disabled:r,label:e.label?e.label:"Add",icon:"plus"})},isAppender:!0}))};function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},a.apply(this,arguments)}const c=JSON.parse('{"u2":"wp3d/model-points3d"}');(0,e.registerBlockType)(c.u2,{edit:function e(a){const c=(0,o.useBlockProps)(),d=(0,t.useRef)(),p=(0,t.useRef)(),m=(0,s.useInstanceId)(e),{attributes:u,setAttributes:w,clientId:b}=a,{_id:g,triggers:k,hps_color:f,hps_shape:v}=u;(0,t.useEffect)((()=>{w({_id:`wp3d-points-${m}`})}),[]);const{getSelectedBlock:E,getState:h,getBlocksByClientId:B,getFeatures:I,isBlockSelected:y,getBlockHierarchyRootClientId:O,getSelectedBlockClientId:N,getBlockAttributes:_,isSelected:C}=(0,r.useSelect)((e=>e("core/block-editor"))),S=E(),A=N(),P=(O(b),O(N()),_(N()),(0,r.useSelect)((e=>e("core/block-editor").getSelectedBlock())));(0,t.useEffect)((()=>{S&&b==A&&console.log("select:",A,P)}),[P]);const T=()=>{};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",c,(0,t.createElement)("div",{ref:d,id:g,className:"wp3d-points3d-itempoints","data-settings":JSON.stringify(u)},(0,t.createElement)("span",{className:"wp3d-trace"},(0,t.createElement)("span",{className:"wp3d-trace-name"},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-points-wp3d"})," 3D POINTS")),(0,t.createElement)("div",{className:"wp3d-points-list"},(0,t.createElement)(o.InnerBlocks,{className:"wp3d-innerblock",templateLock:!1,ref:p,allowedBlocks:["wp3d/model-point3d"],renderAppender:()=>(0,t.createElement)(i,{label:"Add Light",onAppend:T,selectedBlockId:A,rootClientId:b,ide:g,itemRef:p})})))),(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Points","wp3d-modelimport"),initialOpen:!0},(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Triggers","wp3d-modelimport"),value:k,options:[{label:"Click",value:"click"},{label:"Scroll by #ID",value:"scroll_by_id"},{label:"Link by #ID",value:"link_by_id"},{label:"Scroll Body",value:"scroll_body"}],onChange:e=>{!function(e,t){w(t),u[e]=t[e]}("triggers",{triggers:e})}}),(0,t.createElement)("div",{className:"wp3d-points-list wp3d-points-list-panel"},(0,t.createElement)(o.InnerBlocks,{className:"wp3d-innerblock",templateLock:!1,allowedBlocks:["wp3d/model-point3d"],renderAppender:()=>(0,t.createElement)(i,{label:"Add Light",onAppend:T,selectedBlockId:A,rootClientId:b,ide:g,itemRef:p})})))))},save:function(e){let{attributes:l}=e;const n=o.useBlockProps.save();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",a({id:l._id},n,{className:"wp3d-points3d-itempoints","data-settings":JSON.stringify(l)}),(0,t.createElement)("div",{className:"wp3d-points-list"},(0,t.createElement)(o.InnerBlocks.Content,null))))}})}},l={};function n(e){var o=l[e];if(void 0!==o)return o.exports;var r=l[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,l,o,r)=>{if(!l){var s=1/0;for(d=0;d<e.length;d++){for(var[l,o,r]=e[d],i=!0,a=0;a<l.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every((e=>n.O[e](l[a])))?l.splice(a--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,o,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={58:0,501:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var o,r,[s,i,a]=l,c=0;if(s.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(a)var d=a(n)}for(t&&t(l);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},l=globalThis.webpackChunkwp3d_modelimport=globalThis.webpackChunkwp3d_modelimport||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=n.O(void 0,[501],(()=>n(415)));o=n.O(o)})();